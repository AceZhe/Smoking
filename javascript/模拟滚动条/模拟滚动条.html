<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>模拟滚动条</title>
    <style>
        .box {
            position: relative;
            width: 700px;
            height: 400px;
            margin: 50px auto;
            background-color: #cccccc;
            border: 1px solid gray;
            overflow: hidden;
        }

        .content {
            position: absolute;
            width: 640px;

            padding: 30px;

            color: #333333;
            left: 0;
            top: 0;
        }

        .scroll {
            position: absolute;
            z-index: 100;
            width: 20px;
            height: 100%;
            background-color: antiquewhite;
            top: 0;
            right: 0;
        }

        .bar {
            position: absolute;
            width: 20px;
            height: 40px;
            background-color: #333333;
            top: 0;
            right: 0;
        }

        .pbold {
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="box">
    <div class="content">
        <h2>阿甘正传</h2>
        <br>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
        <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
        <p>生命就像一盒巧克力，结果往往出人意料。</p>
        <p class="pbold">2、Stupid is as stupid does.</p>
        <p>蠢人做蠢事，也可理解为傻人有傻福。</p>
        <p class="pbold">3、Miracles happen every day.</p>
        <p>奇迹每天都在发生。</p>
        <p class="pbold">4、it made me look like a duck in water.</p>
        <p>它让我如鱼得水。</p>
        <p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like
            on a breeze.</p>
        <p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
        <p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
        <p>死亡是生命的一部分，是我们注定要做的一件事。</p>
        <p class="pbold">7、You have got to put the past behind you before you can move on.</p>
        <p>放下包袱，继续前进。</p>
        <p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles
            on the river.</p>
        <p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
        <p class="pbold">9、If there is anything you need, I will not be far away.</p>
        <p>只要你需要，我就在这里。</p>
        <p class="pbold">10、I am a man of my word.</p>
        <p>我是信守承诺的人。</p>
        <p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
        <p>某人的一小步就是人类的一大步。</p>
    </div>
    <div class="scroll">
        <div class="bar"></div>
    </div>
    <script>
        var oBox = document.querySelector(".box");
        var oContent = document.querySelector(".content");
        var oScroll = document.querySelector(".scroll");
        var oBar = document.querySelector(".bar");
        oBar.style.height = oScroll.clientHeight * (oBox.clientHeight / oContent.clientHeight) + "px";
        // 禁止内容被选择
        document.onselectstart = function (ev) {
            ev.preventDefault()
        };

        var scrollMax = oScroll.clientHeight - oBar.clientHeight;
        var scrollMin = oScroll.clientTop;

        // 拖动滚动条移动内容
        addEvent(oBar, "mousedown", function (ev) {
            var dY = ev.clientY;
            var bTop = oBar.offsetTop;
            addEvent(document, "mousemove", move);
            addEvent(document, "mouseup", function () {
                removeEvent(this, "mousemove", move);
            });

            function move(mouseEvent) {
                var top = mouseEvent.clientY - dY + bTop;
                top = Math.max(top, scrollMin);
                top = Math.min(top, scrollMax);
                oBar.style.top = top + "px";

                var prop = top / (oScroll.clientHeight - oBar.clientHeight);
                var cTop = -prop * (oContent.clientHeight - oBox.clientHeight);
                oContent.style.top = cTop + "px";
            }
        }, false);

        // 添加滚动事件
        addEvent(oBox, "mousewheel", function (ev, sv) {
            var scv = sv * 30;
            var cTop = oContent.offsetTop - scv;
            cTop = Math.min(cTop, 0);
            cTop = Math.max(cTop, -(oContent.clientHeight - oBox.clientHeight));
            oContent.style.top = cTop + "px";
            var bTop = -(cTop / oContent.clientHeight) * oScroll.clientHeight;
            oBar.style.top = bTop + "px";
            ev.preventDefault();
        });
        oBar.onclick = function (e) {
            e.cancelBubble = true;
        };
        // 添加滚动条点击事件
        addEvent(oScroll, "click", function (e) {
            e = e || window.event;
            var bTop = e.clientY - oBox.offsetTop - (oBar.clientHeight / 2);
            bTop = Math.max(0, bTop);
            bTop = Math.min(bTop, (oScroll.clientHeight - oBar.clientHeight));
            oBar.style.top = bTop + "px";
            var cTop = -bTop / (oScroll.clientHeight - oBar.clientHeight) * (oContent.clientHeight - oBox.clientHeight);
            oContent.style.top = cTop + "px";
        });


        // 添加事件
        function addEvent(obj, eName, eFn) {
            if ("mousewheel" === eName) {
                obj.attachEvent ? obj.attachEvent("on" + eName, fn) : obj.addEventListener(eName, fn, false);
                document.addEventListener && obj.addEventListener("DOMMouseScroll", fn);

                function fn(ev) {
                    ev = ev || window.event;
                    var scrollValue = -ev.wheelDelta / 120 || ev.detail / 3;
                    eFn.call(this, ev, scrollValue);

                }
            } else {
                if (obj.addEventListener) {
                    obj.addEventListener(eName, eFn, false);
                } else {
                    obj.attachEvent("on" + eName, eFn);
                }
            }
        }

        // 移除事件
        function removeEvent(obj, eName, eFn) {
            if (obj.removeEventListener) {
                obj.removeEventListener(eName, eFn);
            } else {
                obj.detachEvent("on" + eName, eFn);
            }
        }


    </script>
</div>

</body>
</html>